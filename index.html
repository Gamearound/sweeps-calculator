<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prize Distribution Calculator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <header>
        <h1>Prize Calculator</h1>
        <div class="subtitle">Tournament Distribution Manager</div>
    </header>

    <div class="error-msg" id="errorBox"></div>

    <!-- Financial Inputs -->
    <div class="form-row">
        <div class="form-group">
            <label for="totalPrize">Total Prize Pool (£)</label>
            <input id="totalPrize" type="number" min="0" step="0.01" placeholder="e.g. 1000">
        </div>
        <div class="form-group">
            <label for="totalPlayers">Total Players</label>
            <input id="totalPlayers" type="number" min="1" placeholder="e.g. 50">
        </div>
    </div>

    <!-- Tier Structure -->
    <div class="form-row">
        <div class="form-group">
            <label>Total Winners</label>
            <div class="input-group combined">
                <input id="winnersVal" type="number" min="1" placeholder="5">
                <select id="winnerMode">
                    <option value="fixed">Fixed #</option>
                    <option value="percent">% Players</option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <label for="tierCount">Active Tiers</label>
            <select id="tierCount">
                <option value="1">1 (Diamond)</option>
                <option value="2">2 (Diamond, Platinum)</option>
                <option value="3" selected>3 (Dia, Plat, Gold)</option>
                <option value="4">4 (Dia, Plat, Gold, Sil)</option>
                <option value="5">5 (Dia, Plat, Gold, Sil, Bro)</option>
            </select>
        </div>
    </div>

    <!-- Logic Configuration -->
    <div class="config-block">
        <label class="block-label">Distribution Strategy</label>

        <div class="strategy-row">
            <div class="input-group split-group">
                <span class="prefix">Money</span>
                <select id="prizeDistStyle" title="How money is split">
                    <option value="multiplier" selected>Multiplier</option>
                    <option value="linear">Linear</option>
                    <option value="equal">Equal</option>
                </select>
                <input id="prizeDistMult" type="number" step="0.1" value="2.0" placeholder="2.0">
            </div>
        </div>

        <div class="strategy-row">
            <div class="input-group split-group">
                <span class="prefix">Players</span>
                <select id="playerDistStyle" title="How winners are split">
                    <option value="multiplier" selected>Multiplier</option>
                    <option value="linear">Linear</option>
                    <option value="equal">Equal</option>
                </select>
                <input id="playerDistMult" type="number" step="0.1" value="2.0" placeholder="2.0">
            </div>
        </div>

        <div class="helper-text" id="strategyHelp">
            Configure how prizes and players are distributed across tiers.
        </div>
    </div>

    <button id="calcBtn" class="btn-primary">Calculate Distribution</button>

    <!-- Results Area -->
    <div id="result-area">
        <div class="summary-box">
            <div class="summary-label">Total Prize Pool</div>
            <div class="summary-val" id="res-total">£0.00</div>
            <div class="summary-sub" id="res-sub">0 Winners / 0 Players</div>
        </div>

        <div class="table-wrapper">
            <table>
                <thead>
                <tr>
                    <th width="35%">Tier</th>
                    <th class="text-right">Count</th>
                    <th class="text-right">Prize Each</th>
                    <th class="text-right">Total</th>
                </tr>
                </thead>
                <tbody id="res-table-body"></tbody>
            </table>
        </div>

        <button id="copyBtn" class="btn-secondary">Copy Summary to Clipboard</button>
    </div>
</div>

<script src="calculator.js" defer></script>
<script src="ui.js" defer></script>
</body>
</html>